<div class="min-h-screen">
  <!-- header -->
  <header
    class="h-18  py-2 px-1 sm:px-3 flex items-center gap-5 border-b bg-zinc-50  border-zinc-200"
  >
    <button
      data-back-button
      type="button"
      aria-label="Go back to the previous page"
      class="cursor-pointer hover:bg-zinc-200 size-10 p-2 rounded-lg text-zinc-700 transition-colors duration-200"
    >
      <span aria-hidden="true">
        <%- include('partials/icons/arrow-left') %>
      </span>
    </button>
    <h1 class="text-zinc-950 text-3xl">Explore</h1>
  </header>

  <div class="px-4 sm:px-5 py-3">
    <form id="search-form" action="/search" class="relative mt-4" novalidate>
      <div
        class="size-5 absolute top-1/2 -translate-y-1/2 left-4 text-zinc-400"
        aria-hidden="true"
      >
        <%- include('partials/icons/explore') %>
      </div>
      <label for="search" class="sr-only">Search for messages and users</label>
      <input
        id="search"
        type="text"
        name="q"
        value="<%= typeof q !== 'undefined' ? q : '' %>"
        aria-label="Search input"
        autocomplete="off"
        spellcheck="false"
        class="w-full pl-12 h-12 pr-8 outline-none rounded-xl focus-within:bg-white placeholder:text-zinc-400 placeholder:font-light border border-zinc-100 bg-zinc-50"
        placeholder="Search..."
      />

      <button
        type="button"
        aria-label="Clear search"
        class="hidden absolute top-1/2 right-4 -translate-y-1/2 size-6 text-zinc-700 cursor-pointer p-0.5 rounded-full hover:bg-zinc-100 transition-colors duration-200"
      >
        <%- include('partials/icons/x') %>
      </button>
    </form>
  </div>

  <!-- result tabs -->
  <div class="mt-1">
    <!-- Tabs -->
    <div role="tablist" class="flex justify-around border-b border-zinc-200">
      <a
        id="messages-tab"
        role="tab"
        aria-controls="messages-panel"
        aria-selected="<%= tab === 'messages' %>"
        tabindex="<%= tab === 'messages' ? '0' : '-1' %>"
        href="/search?q=<%= q %>&tab=messages"
        class="search-tab flex-1 text-center text-zinc-700 hover:bg-zinc-100 transition-all duration-200"
      >
        <span
          class="inline-block py-3 -mb-px border-b-3 <%= tab === 'messages' ? 'border-sky-500 font-medium' : 'border-transparent' %>"
          >Messages</span
        >
      </a>
      <a
        id="users-tab"
        role="tab"
        aria-controls="users-panel"
        aria-selected="<%= tab === 'users' %>"
        tabindex="<%= tab === 'users' ? '0' : '-1' %>"
        href="/search?q=<%= q %>&tab=users"
        class="search-tab flex-1 text-center text-zinc-700 hover:bg-zinc-100 transition-all duration-200"
      >
        <span
          class="inline-block py-3 -mb-px border-b-3 <%= tab === 'users' ? 'border-sky-500 font-medium' : 'border-transparent' %>"
          >Users</span
        >
      </a>
    </div>
  </div>

  <!-- tab content (render partial here) -->
  <div 
    id="messages-panel" 
    role="tabpanel" 
    aria-labelledby="messages-tab" 
    <%= tab === 'messages' ? '' : 'hidden' %>
  >
    <%- include('partials/spinner', {tag: 'results'}) %> 
    <%- include('partials/search-results') %>
  </div>
  <div 
    id="users-panel" 
    role="tabpanel" 
    aria-labelledby="users-tab" 
    <%= tab === 'users' ? '' : 'hidden' %>
  >
    <%- include('partials/spinner', {tag: 'results'}) %> 
    <%- include('partials/search-results') %>
  </div>
</div>

<script type="module" src="/scripts/explore.js"></script>
